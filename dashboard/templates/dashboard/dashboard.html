{% extends 'dashboard_base.html' %}
{% load static %}

{% block title %}
Dashboard
{% endblock title %}
{% block content %}


<div class="row ">
    <div class="col-lg-6 col-sm-6">
        <div class="card mb-3">
            <div class="card-header p-3 pt-2">
                <div
                    class="icon icon-lg icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa fa-box"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Products</p>
                    <h4 class="mb-0">{{ total_products }}</h4>
                </div>
            </div>

            <hr class="dark horizontal my-0">
            <div class="card-footer p-3">
                <!-- <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+55% </span>than last week</p> -->
            </div>
        </div>

        <div class="card mb-2">
            <div class="card-header p-3 pt-2">
                <div
                    class="icon icon-lg icon-shape bg-gradient-primary shadow-primary shadow text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa fa-circle-plus"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Newest Product</p>
                    <h4 class="mb-0">{{ newest_product_name }} {{ newest_product_model }} {{ newest_product_year }}</h4>
                </div>
            </div>

            <hr class="dark horizontal my-0">
            <div class="card-footer p-3">
                <!-- <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+3% </span>than last month</p> -->
            </div>
        </div>

    </div>
    <div class="col-lg-6 col-sm-6 mt-sm-0 mt-4">
        <div class="card mb-3">
            <div class="card-header p-3 pt-2 bg-transparent">
                <div
                    class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa fa-cart-shopping"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize ">Total order</p>
                    <h4 class="mb-0 ">{{ total_orders }}</h4>
                </div>
            </div>

            <hr class="horizontal my-0 dark">
            <div class="card-footer p-3">
                <!-- <p class="mb-0 "><span class="text-success text-sm font-weight-bolder">+1% </span>than yesterday</p> -->
            </div>
        </div>

        <div class="card">
            <div class="card-header p-3 pt-2 bg-transparent">
                <div
                    class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa-solid fa-calendar-week"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Total Users</p>
                    <h4 class="mb-0">{{ total_users }}</h4>

                </div>
            </div>

            <hr class="horizontal my-0 dark">
            <div class="card-footer p-3">
                <!-- <p class="mb-0">Just updated</p> -->
            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-lg-6 col-sm-6">
        <div class="card mb-3">
            <div class="card-header p-3 pt-2 bg-transparent">
                <div
                    class="icon icon-lg icon-shape bg-gradient-warning shadow-warning text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa fa-clock"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Pending Orders</p>
                    <h4 class="mb-0">{{ pending_orders }}</h4>
                </div>
            </div>
            <hr class="horizontal my-0 dark">
            <div class="card-footer p-3">
                <!-- <p class="mb-0">Needs attention</p> -->
            </div>
        </div>

        <div class="card mb-2">
            <div class="card-header p-3 pt-2">
                <div
                    class="icon icon-lg icon-shape bg-gradient-secondary shadow-primary shadow text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa-solid fa-boxes-stacked"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Total Products In Stock</p>
                    <h4 class="mb-0">{{ total_stock }}</h4>
                </div>
            </div>

            <hr class="dark horizontal my-0">
            <div class="card-footer p-3">
                <!-- <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+3% </span>than last month</p> -->
            </div>
        </div>



    </div>
    <div class="col-lg-6 col-sm-6 mt-sm-0 mt-4">
        <div class="card mb-3">
            <div class="card-header p-3 pt-2 bg-transparent">
                <div
                    class="icon icon-lg icon-shape bg-gradient-secondary shadow-secondary text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa fa-truck"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Assigned to Delivery</p>
                    <h4 class="mb-0">{{ assigned_to_delivery }}</h4>
                </div>
            </div>
            <hr class="horizontal my-0 dark">
            <div class="card-footer p-3">
                <!-- <p class="mb-0">In progress</p> -->
            </div>
        </div>

        <div class="card">
            <div class="card-header p-3 pt-2 bg-transparent">
                <div class="icon icon-lg icon-shape bg-gradient-success shadow-info text-center border-radius-xl mt-n4 position-absolute">
                    <i class="fa-solid fa-dollar-sign"></i>
                </div>
                <div class="text-end pt-1">
                    <p class="text-sm mb-0 text-capitalize">Revenue This Week</p>
                    <h4 class="mb-0">${{ revenue_this_week|floatformat:2 }}</h4>
                </div>
            </div>
            <hr class="horizontal my-0 dark">
            <div class="card-footer p-3">
                <!-- <p class="mb-0">In progress</p> -->
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <div id="chart">
                    {{ chart | safe }}
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <div id="user_chart">
                    {{ user_chart | safe }}
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        {% include 'dashboard/chart/order_by_date_chart.html' %}
    </div>
    <div class="col-md-4">
        {% include 'dashboard/chart/user_by_date_chart.html' %}

    </div>
</div>

{% include 'dashboard/chart/revenue_by_period.html' %}
{% include 'dashboard/chart/top_five_product_by_date.html' %}



<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div id="province_chart">
                    {{ province_chart | safe }}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}

{% block js %}
<script src="{% static 'js/bootstrap/material-dashboard.min.js' %}"></script>
{% endblock js %}